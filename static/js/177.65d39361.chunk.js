"use strict";(self.webpackChunkreact_time=self.webpackChunkreact_time||[]).push([[177],{177:(t,e,n)=>{n.r(e),n.d(e,{default:()=>u});var c=n(791),s=n(918),i=(n(201),n(528)),a=n.n(i),l=n(381),o=n(184);const r=(0,c.lazy)((()=>n.e(915).then(n.bind(n,915))));function u(){const[t,e]=(0,s.Rh)("lang",""),[n,i]=(0,s.Rh)("allTz",[]),[u,f]=(0,s.Rh)("filterValue",""),[h,m]=(0,s.Rh)("timezones",[]),g=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const c=(t||n).map((t=>{const{country:e,flag:n,subdiv:c=[],cities:s=[],zone:i=null,utcOffset:l=null}=t,o=a()().utc().format("x");return{country:e,flag:n,offset:i?a()().tz(i).format("Z"):-1*l,zone:i,numericOffset:i?-1*a().tz.zone(i).utcOffset(o):l,subdiv:c,cities:s}})).sort(((t,e)=>t.numericOffset-e.numericOffset)).reduce(((t,e)=>{const n={...t},{flag:c,offset:s,country:i,numericOffset:a,subdiv:l=[],cities:o=[]}=e,r="number"===typeof s,u=r?0===s?"\xb1":s<0?"+":"-":null,f=r?Math.abs(s):null,h=r?Math.floor(f/60):null,m=r?h<10?"0".concat(h):"".concat(h):null,g=r?f%60:null,d=r?g<10?"0".concat(g):"".concat(g):null,p=r?"UTC".concat(u).concat(m,":").concat(d):"UTC".concat(s),v={code:c,title:i,subdiv:l};return n.hasOwnProperty(p)?(n[p].flags.push(v),n[p].cities=n[p].cities.concat(o)):n[p]={city:p,numericOffset:a,flags:[v],cities:o},n}),{}),s=Object.values(c).sort(((t,e)=>t.numericOffset-e.numericOffset)),i=e||u,l=""!==i?s.filter((t=>{const{flags:e,cities:n}=t;if(e.filter((t=>{const{title:e,subdiv:n=[]}=t,c=n.length>0?"".concat(e,": ").concat(n.map((t=>t.title)).join(", ")):e;return""===i||!!c.toLowerCase().includes(i.toLowerCase())})).length>0)return!0;return n.filter((t=>t.asciiname.toLowerCase().includes(i.toLowerCase()))).length>0})):s;m(l)};return(0,c.useEffect)((()=>{const t=window.navigator.language.substring(0,2).toLowerCase();e(t),(t=>{fetch("https://worldtime-api.vercel.app/ideal?lang=".concat(t)).then((t=>t.json())).then((e=>{i(e),g(e,u,t),setInterval(1e3,(()=>g(n,u,t)))})).catch((t=>console.error(t)))})(t)}),[]),(0,o.jsxs)("div",{className:"app",children:[(0,o.jsx)("div",{style:{textAlign:"center",marginBottom:"24px",marginTop:"24px"},children:(0,o.jsx)("input",{type:"text",placeholder:(0,l.A)("FilterCountries"),onChange:e=>{f(e.target.value),g(n,e.target.value,t)}})}),(0,o.jsx)("div",{className:"row album sk-album",children:h&&h.length>0&&h.map(((t,e)=>(0,o.jsx)(r,{flags:t.flags,city:t.city,zone:t.zone,offset:t.numericOffset,cities:t.cities},e)))})]})}},201:()=>{}}]);
//# sourceMappingURL=177.65d39361.chunk.js.map